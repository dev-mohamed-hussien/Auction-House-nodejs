<%- include('parts/header')%>

<style>
   @import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400|Lora");
   body {
     background: rgb(32, 40, 68);
   }
   
   /* div box styling */
   .container {
     margin: auto;
     width: 650px;
     height: 550px;
     position: relative;
   }
   
   .welcome {
     background: #f6f6f6;
     width: 650px;
     height: 415px;
     position: absolute;
     top: 25%;
     border-radius: 5px;
     box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1);
   }
   
   .pinkbox {
     position: absolute;
     top: -10%;
     left: 5%;
     background:rgb(57, 53, 54);
     width: 320px;
     height: 500px;
     border-radius: 5px;
     box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
     transition: all .5s ease-in-out;
     z-index: 2;
   }
   
   .nodisplay {
     display: none;
     transition: all .5s ease;
   }
   
   .leftbox, .rightbox {
     position: absolute;
     width: 50%;
     transition: 1s all ease;
   }
   
   .leftbox {
     left: -2%;
   }
   
   .rightbox {
     right: -2%;
   }
   
   /* font & button styling */
   h1 {
     font-family: "Open Sans", sans-serif;
     text-align: center;
     margin-top: 85px;
     margin-bottom: 0;
     text-transform: uppercase;
     color: #f6f6f6;
     font-size: 2em;
     letter-spacing: 8px;
   }
   
   .title {
     font-family: "Lora", serif;
     color: #8E9AAF;
     font-size: 1.8em;
     line-height: 1.1em;
     letter-spacing: 3px;
     text-align: center;
     font-weight: 300;
     margin-top: 20%;
   }
   
   .desc {
     margin-top: 3px;
   }
   
   .account {
     margin-top: 45%;
     font-size: 10px;
   }
   
   p {
     font-family: "Open Sans", sans-serif;
     font-size: 1em;
     letter-spacing: 2px;
     color: #8E9AAF;
     text-align: center;
   }
   
   span {
     color: rgb(0, 98, 107);
   }
   
   .bidImg {
     position: absolute;
     width: 170px;
    height: 130px;
    top: 43%;
    left: 25%;
     opacity: .7;
   }
   
   .smaller {
     width: 90px;
     height: 100px;
     top: 48%;
     left: 38%;
     opacity: .9;
   }
   
   button {
     padding: 12px;
     font-family: "Open Sans", sans-serif;
     text-transform: uppercase;
     letter-spacing: 3px;
     font-size: 11px;
     border-radius: 10px;
     margin: auto;
     outline: none;
     display: block;
   }
   button:hover {
     background: rgb(0, 98, 107);
     color: #fff;
     transition: background-color 1s ease-out;
   }
   
   .button {
     margin-top: 3%;
     background: rgba(0, 0, 0, 0);
     color: rgb(0, 98, 107);
     border: solid 1px rgb(0, 98, 107);
   }
   
   /* form styling */
   form {
     display: flex;
     align-items: center;
     flex-direction: column;
     padding-top: 7px;
     font-size: 12px;
   }
   
   .more-padding {
     padding-top: 35px;
   }
   .more-padding input {
     padding: 12px;
   }
   .more-padding .submit {
     margin-top: 45px;
   }
   
   .submit {
     margin-top: 10px;
     padding: 12px;
     border-color: rgb(191, 177, 201);
     color: whitesmoke;
   }
   .submit:hover {
    background: rgb(245, 245, 245);
    border-color: rgb(191, 177, 201);
    color: rgb(0, 0, 0);
   }
   
   input {
      background: rgb(53, 53, 53);
    width: 65%;
    color: whitesmoke;
    border: none;
    border-bottom: 1px solid rgba(246, 246, 246, 0.5);
    padding: 9px;
    margin: 7px;
   }
   input::placeholder {
     color: #f6f6f6;
     letter-spacing: 2px;
     font-size: 1.3em;
     font-weight: 100;
   }
   input:focus {
     color: #ce7d88;
     outline: none;
     border-bottom: 1.2px solid rgba(206, 125, 136, 0.7);
     transition: .8s all ease;
   }
   input:focus::placeholder {
     opacity: 0;
   }
   
   label {
     font-family: "Open Sans", sans-serif;
     color: rgb(245, 245, 245);
          font-size: 0.8em;
     letter-spacing: 1px;
   }
   
   .checkbox {
     display: inline;
     white-space: nowrap;
     position: relative;
     left: -62px;
     top: 5px;
     font-size: medium;
   }
   
   input[type=checkbox] {
     width: 7px;
     background: #ce7d88;
   }
   
   .checkbox input[type="checkbox"]:checked + label {
     color: #ce7d88;
     transition: .5s all ease;
   }










   .custom-file-input::-webkit-file-upload-button {
  visibility: hidden;
}
.custom-file-input::before {
  content: 'Select image';
  display: inline-block;
  background: linear-gradient(top, #f9f9f9, #e3e3e3);
  border: 1px solid #999;
  border-radius: 3px;
  /* padding: 5px 8px; */
  outline: none;
  white-space: nowrap;
  -webkit-user-select: none;
  cursor: pointer;
  font-weight: 500;
  font-size: 10pt;
  padding-bottom: 3px;
    padding-top: 3px;
    padding-right: 2px;
    padding-left: 2px;
}
.custom-file-input:hover::before {
  border-color: rgb(206, 125, 136);
  color: rgb(206, 125, 136);
}
.custom-file-input:active::before {
  background: -webkit-linear-gradient(top, #e3e3e3, #f9f9f9);
}



/* notification */



section{
   /* width: 35vw; */
   overflow: hidden;
   height: 7vh;
}
.notification{
   /* width: 35vw; */
   height: 40px;
   border-radius: 0px 0px 5px 5px;
   margin: 0 auto;
   color: rgb(255, 255, 255);
   line-height: 32px;
   overflow: hidden;
   animation: reveal 1 1s;
   float: left;
}
.notification .title{
	margin-right: 15px;
	padding: 0px 15px;
	line-height: 40px;
	display: inline-block;
}

.notification .close{
	background: rgba(255,255,255,0.2);
	padding: 0px 15px;
	float: right;
	line-height: 40px;
	display: inline-block;
   color: white;
   margin-left: 15px;
}
.notification .close:hover{
  cursor: pointer;
}
.notification.closed{
	transform: translate(0px, -50px);
	transition: 0.7s;
}

@keyframes reveal{
	0%{
		transform: translate(0px, -50px);
	}
	50%{
		transform: translate(0px, -50px);
	}
	100%{
		transform: translate(0px, 0px);
	}
}


.notification.success{
	background: #2ecc71;
}
.notification.success .title{
	background: #27ae60;
}

.notification.error{
	background: #e74c3c;
}
.notification.error .title{
	background: #c0392b;
}

.notification.warning{
	background: #f1c40f;
}
.notification.warning .title{
	background: #f39c12;
}

.notification.normal{
	background: #3498db;
}
.notification.normal .title{
	background: #2980b9;
}

#spansignin{
display: none;
}
#spansignup{
  display: none;

}

@media screen and (max-width: 768px){
  .container {
    margin: auto;
    width: 374px;
    height: 289px;
    position: relative;
}
.welcome {
    background: rgb(246, 246, 246);
    width: 355px;
    height: 415px;
    position: absolute;
    top: 40%;
    border-radius: 5px;
    box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1);
}
.leftbox {
display: none;
}
.rightbox {
  display: none;
}


#spansignin{
display: block;
}
#spansignup{
  display: block;

}




}



   </style>

<!-- success msg -->
<div style=" position: fixed; z-index: 3; ">

  <section id="su" style="display: none;">
    <div class="notification success">
      <span class="title" style="
    margin-right: 15px;
    padding: 0px 15px;
    line-height: 40px;
    display: inline-block;
    margin-top: 0px;
    letter-spacing: 0px;
    font-size: 16px;
    color: aliceblue;
">: )&nbsp;&nbsp;&nbsp;&nbsp;Success</span>   <span id="ssu" style="
    color: aliceblue;
">Everything went great!</span> <span class="close">X</span>
    </div>
  </section>
  
  <section id="er" style="display: none;">
    <div class="notification error">
      <span style="
      margin-right: 15px;
      padding: 0px 15px;
      line-height: 40px;
      display: inline-block;
      margin-top: 0px;
      letter-spacing: 0px;
      font-size: 16px;
      color: aliceblue;
  " class="title">!&nbsp;&nbsp;&nbsp;&nbsp;Error</span>  <span style="
    color: aliceblue;
" id="ser">Oops an error occured!</span>  <span class="close">X</span>
    </div>
  </section>
  
  <section id="wa" style="display: none;">
    <div class="notification warning">
      <span style="
      margin-right: 15px;
      padding: 0px 15px;
      line-height: 40px;
      display: inline-block;
      margin-top: 0px;
      letter-spacing: 0px;
      font-size: 16px;
      color: aliceblue;
  " class="title">!&nbsp;&nbsp;&nbsp;&nbsp;Warning</span> <span style="
    color: aliceblue;
" id="swa">Oops an error occured!</span> <span class="close">X</span>
    </div>
  </section>
  
  <section id="no" style="display: none;">
    <div class="notification normal">
      <span style="
      margin-right: 15px;
      padding: 0px 15px;
      line-height: 40px;
      display: inline-block;
      margin-top: 0px;
      letter-spacing: 0px;
      font-size: 16px;
      color: aliceblue;
  " class="title">: )&nbsp;&nbsp;&nbsp;&nbsp;Notification</span>  <span  style="
    color: aliceblue;
" id="sno" > Oops an error occured!</span><span class="close">X</span>
    </div>
  </section>

</div>




<div class="container">





  
   <div class="welcome">




     <div class="pinkbox">
       <div style="    margin-top: -50px;" class="signup  nodisplay">
         <h1>register</h1>
         <form id="signupForm" action="" method="POST"  autocomplete="off">
           <input onfocus="backit('us')" name="us"  id="username" type="text" placeholder="username"><i id='us' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 363px;right: 62px; display: none; color: rgb(255, 0, 0);"></i>
           <input onfocus="backit('ph')" name="ph"  id="phone" type="number" placeholder="phone"><i id='ph' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 315px;;right: 62px; display: none; color: rgb(255, 0, 0);"></i>
           <input onfocus="backit('em')" name="em"  id="email" type="text" placeholder="email"><i id='em' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 265px;right: 62px;display: none; color: rgb(255, 0, 0);"></i>
           <input onfocus="backit('pa1')" name="pa1"  id="pass1"  type="password" placeholder="password"><i id='pa1' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 215px;right: 62px;display: none;color: rgb(255, 0, 0);"></i>
           <input onfocus="backit('pa2')" name="pa2"  id="pass2"  type="password" placeholder="confirm password"><i id='pa2' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 165px;right: 62px;display: none;color: rgb(255, 0, 0);"></i>
          <input onfocus="backit('fs')" name="pho"   id="pho" class="custom-file-input" type="file" id="file" aria-label="File browser example"><i id='fs' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 115px;right: 62px;display: none;color: rgb(255, 0, 0);"></i>
 
           <button class="button submit">create account </button>
         </form>

         <span id="spansignin" style="color: aliceblue;font-size: 16px;margin-top: 10px;text-align: center;">you already have an account ? <a  id="spansigninx"  href="#12" style="
          color: turquoise;
      ">signin</a></span>


       </div>
       <div class="signin">
         <h1>sign in</h1>
         <form  id="formSignIn"  method="POST" action="" class="more-padding" autocomplete="off">
           <input onfocus="backit('lus')"  type="text" name="username" placeholder="username"><i id='lus' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 285px;right: 62px; display: none; color: rgb(255, 0, 0);"></i>
           <input  onfocus="backit('lpa')"  type="password" name="password" placeholder="password"><i id='lpa' class="fas fa-exclamation-triangle" style="position: absolute;bottom: 230px;right: 62px; display: none; color: rgb(255, 0, 0);"></i>
           <div class="checkbox">
             <input style=" width: 14px;  margin-left: 44px;" type="checkbox" id="remember" /><label for="remember">remember me</label>
           </div>
 
           <button  class="button submit">login</button>
         </form>

         <span id="spansignup" style="color: aliceblue;font-size: 16px;margin-top: 20px;text-align: center;">don't have an account ? <a id="spansignupx" href="#13" style="
          color: turquoise;
      ">signup</a></span>


       </div>
     </div>
     <div class="leftbox">
       <h2 class="title"><span>Buy</span>&<br>Sell</h2>
       <p class="desc">pid your perfect <span>offer</span></p>
       <img class="bidImg smaller" src="/img/log3.png" alt="1357d638624297b" border="0">
       <p class="account">have an account?</p>
       <button class="button" id="signin">login</button>
     </div>
     <div class="rightbox">
       <h2 class="title"><span>Buy</span>&<br>Sell</h2>
       <p class="desc">pid your perfect <span>offer</span></p>
       <img class="bidImg" src="/img/log3.png"/>
       <p class="account">don't have an account?</p>
       <button class="button" id="signup">sign up</button>
     </div>
   </div>
  </div>
 
 </div>


<script>


// msg box js  close notification
$(".close").click(function(){
   $(this).parent().parent().css('display','none')
   $(this).parent().parent().css('height','0px')
})


// clear red warn font awesome
function backit(id){

  document.getElementById(id).style.display='none'

}




$('#signupForm').submit(function(e) {
  //  username 
var username =document.getElementById('username');
//  phone number
var n =document.getElementById('phone');  var phone = n.value.startsWith("01");
  //  email 
var em = /\S+@\S+\.\S+/; var email =document.getElementById('email');
//  password
var pass1 =document.getElementById('pass1');   var pass2 =document.getElementById('pass2');


  // cheak username 
if(username.value=='' || username.value.length>15 ||username.value.length<5 )
{

// erorr notify
  document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'
// warning notify
document.getElementById('swa').innerText='Compelete your info with right data'
document.getElementById('wa').style.display='block'
document.getElementById('wa').style.height='46px'
// active wrong font awesome
document.getElementById('us').style.display='block'
e.preventDefault();
}
  // cheak phone number
if(phone==false || n.value.length!=11)
{
  // erorr notify
  document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'
// warning notify
document.getElementById('swa').innerText='Compelete your info with right data'
document.getElementById('wa').style.display='block'
document.getElementById('wa').style.height='46px'
// active wrong font awesome
  document.getElementById('ph').style.display='block'
  e.preventDefault();
}

  // cheak email 
if(em.test(email.value)==false)
{
  // erorr notify
  document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'
// warning notify
document.getElementById('swa').innerText='Compelete your info with right data'
document.getElementById('wa').style.display='block'
document.getElementById('wa').style.height='46px'
// active wrong font awesome
  document.getElementById('em').style.display='block'
  e.preventDefault();
}

// cheak password
if(pass1.value!=pass2.value || pass2.value.length<5  || pass2.value=='' || pass1.value=='' ){

  // erorr notify
  document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'
// warning notify
document.getElementById('swa').innerText='Compelete your info with right data'
document.getElementById('wa').style.display='block'
document.getElementById('wa').style.height='46px'
// active wrong font awesome
  document.getElementById('pa1').style.display='block'
  document.getElementById('pa2').style.display='block'
  e.preventDefault();

}

// cheak photo
if(document.getElementById('pho').value==''){
// erorr notify
document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'
// warning notify
document.getElementById('swa').innerText='Compelete your info with right data'
document.getElementById('wa').style.display='block'
document.getElementById('wa').style.height='46px'
// active wrong font awesome
document.getElementById('fs').style.display='block'
e.preventDefault();

}




else{
var formObj = $(this);
      if(window.FormData !== undefined)  // for HTML5 browsers
      {      var formData = new FormData(this);
          $.ajax({    url: '/signup',    type: 'POST',
              data:  formData,    mimeType:"multipart/form-data",     contentType: false,
              cache: false,
              processData:false,
              success: function(data, textStatus, jqXHR)
              {

// succesfully notify
document.getElementById('ssu').innerText='Your signup done successfully'
document.getElementById('su').style.display='block'
document.getElementById('su').style.height='46px'
// active wrong font awesome


                console.log('user signup success fully')
               // Do whatever you want with your 'data'

// clear  erorr notify
document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='none'
document.getElementById('er').style.height='0px'


// clear waning notify
document.getElementById('swa').innerText='Signup fail'
document.getElementById('wa').style.display='none'
document.getElementById('wa').style.height='0px'


              },
              error: function(jqXHR, textStatus, errorThrown) 
              {
// erorr notify
document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'
                    // Oops! Some Error
              }           
         });
          e.preventDefault();
   }
     else  //for olden browsers
      {
          // Generate a random id for our hidden iframe form
          var  iframeId = '_form_' + (Math.random().toString());
         // Create an igrame      
          var iframe = $('<iframe src="javascript:false;" name="'+iframeId+'" />');
         iframe.hide();
         formObj.attr('target',iframeId);
         iframe.appendTo('body');
          iframe.load(function(e)
          {              var doc = getDoc(iframe[0]);              var docRoot = doc.body ? doc.body : doc.documentElement;              var data = docRoot.innerHTML;
              // Do whatever with `data`
  
            });
     } 

}
    });


// sign in 



 // this is the id of the form
$("#formSignIn").submit(function(e) {

e.preventDefault(); // avoid to execute the actual submit of the form.

var form = $(this);
var url ='/login'

$.ajax({
       type: "POST",
       url: url,
       data: form.serialize(), // serializes the form's elements.
       success: function(data)
       {

        window.location.href = "/manage";
// clear  erorr notify
document.getElementById('ser').innerText='Signup fail'
document.getElementById('er').style.display='none'
document.getElementById('er').style.height='0px'


// clear waning notify
document.getElementById('swa').innerText='Signup fail'
document.getElementById('wa').style.display='none'
document.getElementById('wa').style.height='0px'

      }
       ,
              error: function(jqXHR, textStatus, errorThrown) 
              {

// erorr notify
document.getElementById('ser').innerText='login fail Signup if you havnt account'
document.getElementById('er').style.display='block'
document.getElementById('er').style.height='46px'

// warning notify
document.getElementById('swa').innerText='Make sure you inserted right data '
document.getElementById('wa').style.display='block'
document.getElementById('wa').style.height='46px'

//erorr fontawesome red
document.getElementById('lus').style.display='block'
document.getElementById('lpa').style.display='block'


              }     });


});





</script>


<%- include('parts/footer')%>
